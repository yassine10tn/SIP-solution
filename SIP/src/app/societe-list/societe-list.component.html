<div class="flex flex-col items-center justify-center p-8 bg-zinc-200 mb-28">
  <div class="w-full max-w-8xl mx-auto">
    <div class="text-center mb-8">
      <h2 class="text-5xl font-extrabold text-blue-800 mb-4">
        Liste des Sociétés
      </h2>
      <p class="text-xl text-gray-600">
        Explorez et gérez les sociétés enregistrées dans notre système.
      </p>
    </div>

    <!-- Barre de recherche -->
    <div class="mb-6 relative w-full max-w-lg mx-auto">
      <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500" fill="none"
        stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
      <input type="text" [(ngModel)]="searchId" (ngModelChange)="searchById()"
        class="pl-10 pr-4 py-3 w-full text-gray-700 bg-white rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-200 focus:shadow-md transition-all"
        placeholder="Rechercher une société par ID..." />
    </div>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white border border-gray-300 mt-6">
        <thead>
          <tr class="text-white" style="background-color: #18559f">
            <th class="py-4 px-4 border-b">ID Projet</th>
            <th class="py-4 px-4 border-b">Identifiant</th>
            <th class="py-4 px-4 border-b">Ex Identifiant</th>
            <th class="py-4 px-4 border-b">Raison Sociale</th>
            <th class="py-4 px-4 border-b">Raison Sociale (Ar)</th>
            <th class="py-4 px-4 border-b">Libellé Court</th>
            <th class="py-4 px-4 border-b">Siège Social</th>
            <th class="py-4 px-4 border-b">Siège Social (Ar)</th>
            <th class="py-4 px-4 border-b">MF</th>
            <th class="py-4 px-4 border-b">Date de Création</th>
            <th class="py-4 px-4 border-b">Date du Dossier</th>
            <th class="py-4 px-4 border-b">Objet</th>
            <th class="py-4 px-4 border-b">Objet (Ar)</th>
            <th class="py-4 px-4 border-b">Téléphone</th>
            <th class="py-4 px-4 border-b">Email</th>
            <th class="py-4 px-4 border-b">Status</th>
            <th class="py-4 px-4 border-b">Dossier Juridique</th>
            <th class="py-4 px-4 border-b">Pays</th>
            <th class="py-4 px-4 border-b">Gouvernorat</th>
            <th class="py-4 px-4 border-b">Forme Juridique</th>
            <th class="py-4 px-4 border-b">Secteur Économique</th>
            <th class="py-4 px-4 border-b">Nature du Projet</th>
            <th class="py-4 px-4 border-b">Type de Management</th>
            <th class="py-4 px-4 border-b">Devise</th>
            <th class="py-4 px-4 border-b">Type d'Identifiant</th>
            <th class="py-4 px-4 border-b">Type d'Entreprise</th>
            <th class="py-4 px-4 border-b">Type de Projet</th>
            <th class="py-4 px-4 border-b">Paramètre RSM620</th>
            <th class="py-4 px-4 border-b">Paramètre RNLPA870</th>
            <th class="py-4 px-4 border-b">Code Risque</th>
            <th class="py-4 px-4 border-b">Date de Mise à Jour</th>
            <th class="py-4 px-4 border-b">Utilisateur</th>
            <th class="py-4 px-4 border-b">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let societe of filteredSocietes; let i = index" class="hover:bg-gray-50">
            <td class="py-2 px-4 border-b">
              {{ societe.idProjet }}
            </td>


            <!-- Identifiant -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'identifiant'"
                  class="flex items-center gap-2">
                  {{ societe.identifiant }}
                  <button (click)="enableEdit(societe, 'identifiant')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'identifiant'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue" type="number"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- ExIdentifiant -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'exIdentifiant'"
                  class="flex items-center gap-2">
                  {{ societe.exIdentifiant }}
                  <button (click)="enableEdit(societe, 'exIdentifiant')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'exIdentifiant'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue" type="number"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Raison Sociale -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">


                <span *ngIf="editingSociete !== societe || editingField !== 'raisonSociale'"
                  class="flex items-center gap-2">
                  {{ societe.raisonSociale }}
                  <button (click)="enableEdit(societe, 'raisonSociale')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'raisonSociale'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Raison Sociale (Ar) -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'raisonSocialeAr'"
                  class="flex items-center gap-2">
                  {{ societe.raisonSocialeAr }}
                  <button (click)="enableEdit(societe, 'raisonSocialeAr')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'raisonSocialeAr'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Libellé Court -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">


                <span *ngIf="editingSociete !== societe || editingField !== 'libelleCourt'"
                  class="flex items-center gap-2">
                  {{ societe.libelleCourt }}
                  <button (click)="enableEdit(societe, 'libelleCourt')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'libelleCourt'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>



              </div>
            </td>

            <!-- Siège Social -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'siegeSocial'"
                  class="flex items-center gap-2">
                  {{ societe.siegeSocial }}
                  <button (click)="enableEdit(societe, 'siegeSocial')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'siegeSocial'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>


              </div>
            </td>


            <!-- Siège Social (Ar) -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'siegeSocialAr'"
                  class="flex items-center gap-2">
                  {{ societe.siegeSocialAr }}
                  <button (click)="enableEdit(societe, 'siegeSocialAr')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'siegeSocialAr'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>



              </div>
            </td>


            <!-- MF -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'mf'" class="flex items-center gap-2">
                  {{ societe.mf }}
                  <button (click)="enableEdit(societe, 'mf')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'mf'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Date de Création -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'dateCreation'"
                  class="flex items-center gap-2">
                  {{ societe.dateCreation | date }}
                  <button (click)="enableEdit(societe, 'dateCreation')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'dateCreation'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input type="date" formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Date du Dossier -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'dateDossier'"
                  class="flex items-center gap-2">
                  {{ societe.dateDossier | date }}
                  <button (click)="enableEdit(societe, 'dateDossier')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'dateDossier'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input type="date" formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Objet -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'objet'" class="flex items-center gap-2">
                  {{ societe.objet }}
                  <button (click)="enableEdit(societe, 'objet')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'objet'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>




              </div>
            </td>
            <!-- Objet (Ar) -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">


                <span *ngIf="editingSociete !== societe || editingField !== 'objetAr'" class="flex items-center gap-2">
                  {{ societe.objetAr }}
                  <button (click)="enableEdit(societe, 'objetAr')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'objetAr'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Téléphone -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'telephone'"
                  class="flex items-center gap-2">
                  {{ societe.telephone }}
                  <button (click)="enableEdit(societe, 'telephone')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'telephone'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue" type="number"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Email -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'email'" class="flex items-center gap-2">
                  {{ societe.email }}
                  <button (click)="enableEdit(societe, 'email')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'email'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue" type="email"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Status -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">
                <span *ngIf="editingSociete !== societe || editingField !== 'status'" class="flex items-center gap-2">
                  <button *ngIf="societe.status"
                    (click)="downloadPdf(societe.status, 'status_' + societe.idProjet + '.pdf')"
                    class="flex items-center gap-2 px-3 py-1 bg-blue-500 text-white rounded-lg shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200">
                    <i class="fas fa-download"></i>
                    <span>Télécharger</span>
                  </button>

                  <button (click)="enableEdit(societe, 'status')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'status'" class="flex items-center">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center">
                    <input type="file" (change)="onFileSelected($event)" class="border p-1 rounded flex-grow" />
                    <button type="submit"
                      class="ml-2 px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition duration-200">
                      <i class="fas fa-check"></i>
                    </button>
                    <button type="button" (click)="cancelEdit()"
                      class="ml-2 px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition duration-200">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>
              </div>
            </td>
            <!-- Dossier Juridique -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'dossierJuridique'"
                  class="flex items-center gap-2">
                  <button *ngIf="societe.dossierJuridique"
                    (click)="downloadPdf(societe.dossierJuridique, 'dossierJuridique_' + societe.idProjet + '.pdf')"
                    class="flex items-center gap-2 px-3 py-1 bg-blue-500 text-white rounded-lg shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200">
                    <i class="fas fa-download"></i>
                    <span>Télécharger</span>
                  </button>

                  <button (click)="enableEdit(societe, 'dossierJuridique')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'dossierJuridique'"
                  class="flex items-center">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center">
                    <input type="file" (change)="onFileSelected($event)" class="border p-1 rounded flex-grow" />
                    <button type="submit"
                      class="ml-2 px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition duration-200">
                      <i class="fas fa-check"></i>
                    </button>
                    <button type="button" (click)="cancelEdit()"
                      class="ml-2 px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition duration-200">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>
              </div>
            </td>
            <!-- Pays -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">


                <span *ngIf="editingSociete !== societe || editingField !== 'idPays'" class="flex items-center gap-2">
                  {{ societe.libellePays ?? '' }}
                  <button (click)="enableEdit(societe, 'idPays')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idPays'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let pays of paysList" [value]="pays.id">
                        {{ pays.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>

            </td>
            <!-- Gouvernorat -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idGouvernorat'"
                  class="flex items-center gap-2">
                  {{ societe.libelleGouvernorat ?? '' }}
                  <button (click)="enableEdit(societe, 'idGouvernorat')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idGouvernorat'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let gouvernorat of gouvernoratsList" [value]="gouvernorat.id">
                        {{ gouvernorat.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Forme Juridique -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idFormeJuridique'"
                  class="flex items-center gap-2">
                  {{ societe.libelleFormeJuridique ?? '' }}
                  <button (click)="enableEdit(societe, 'idFormeJuridique')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idFormeJuridique'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let formeJuridique of formeJuridiqueList" [value]="formeJuridique.id">
                        {{ formeJuridique.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Secteur Economique -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idSecteurEconomique'"
                  class="flex items-center gap-2">
                  {{ societe.libelleSecteurEconomique ?? '' }}
                  <button (click)="enableEdit(societe, 'idSecteurEconomique')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idSecteurEconomique'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let secteurEconomique of secteurEconomiqueList" [value]="secteurEconomique.id">
                        {{ secteurEconomique.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Nature Projet -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idNatureProjet'"
                  class="flex items-center gap-2">
                  {{ societe.libelleNatureProjet ?? '' }}
                  <button (click)="enableEdit(societe, 'idNatureProjet')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idNatureProjet'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let natureProjet of natureProjetList" [value]="natureProjet.id">
                        {{ natureProjet.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Type Management -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idTypeManagement'"
                  class="flex items-center gap-2">
                  {{ societe.libelleTypeManagement ?? '' }}
                  <button (click)="enableEdit(societe, 'idTypeManagement')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idTypeManagement'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let typeManagement of typeManagementList" [value]="typeManagement.id">
                        {{ typeManagement.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!--DEVISE-->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">


                <span *ngIf="editingSociete !== societe || editingField !== 'idDevise'" class="flex items-center gap-2">
                  {{ societe.libelleDevise ?? '' }}
                  <button (click)="enableEdit(societe, 'idDevise')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idDevise'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let devise of deviseList" [value]="devise.id">
                        {{ devise.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Type Identifiant -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idTypeIdentifiant'"
                  class="flex items-center gap-2">
                  {{ societe.libelleTypeIdentifiant ?? '' }}
                  <button (click)="enableEdit(societe, 'idTypeIdentifiant')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idTypeIdentifiant'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let typeIdentifiant of typeIdentifiantList" [value]="typeIdentifiant.id">
                        {{ typeIdentifiant.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Type Entreprise -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idTypeEntreprise'"
                  class="flex items-center gap-2">
                  {{ societe.libelleTypeEntreprise ?? '' }}
                  <button (click)="enableEdit(societe, 'idTypeEntreprise')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idTypeEntreprise'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let typeEntreprise of typeEntrepriseList" [value]="typeEntreprise.id">
                        {{ typeEntreprise.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!--TypeProjet-->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idTypeProjet'"
                  class="flex items-center gap-2">
                  {{ societe.libelleTypeProjet ?? '' }}
                  <button (click)="enableEdit(societe, 'idTypeProjet')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idTypeProjet'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let typeProjet of typeProjetList" [value]="typeProjet.id">
                        {{ typeProjet.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- ParametreRSM620 -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idParametreRSM620'"
                  class="flex items-center gap-2">
                  {{ societe.libelleParametreRSM620 ?? '' }}
                  <button (click)="enableEdit(societe, 'idParametreRSM620')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idParametreRSM620'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let parametreRSM620 of parametreRSM620List" [value]="parametreRSM620.id">
                        {{ parametreRSM620.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- ParametreRNLPA870 -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'idParametreRNLPA870'"
                  class="flex items-center gap-2">
                  {{ societe.libelleParametreRNLPA870 ?? '' }}
                  <button (click)="enableEdit(societe, 'idParametreRNLPA870')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'idParametreRNLPA870'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <select formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300">
                      <option *ngFor="let parametreRNL870 of parametreRNL870List" [value]="parametreRNL870.id">
                        {{ parametreRNL870.nom }}
                      </option>
                    </select>

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Code risque -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'codeRisque'"
                  class="flex items-center gap-2">
                  {{ societe.codeRisque ?? '' }}
                  <button (click)="enableEdit(societe, 'codeRisque')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'codeRisque'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Date Maj -->
            <td class="py-2 px-4 border-b">

              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'dateMaj'" class="flex items-center gap-2">
                  {{ societe.dateMaj | date }}
                  <button (click)="enableEdit(societe, 'dateMaj')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'dateMaj'" class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input type="date" formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Utilisateur -->
            <td class="py-2 px-4 border-b">
              <div class="flex items-center justify-center h-full">

                <span *ngIf="editingSociete !== societe || editingField !== 'utilisateur'"
                  class="flex items-center gap-2">
                  {{ societe.utilisateur ?? '' }}
                  <button (click)="enableEdit(societe, 'utilisateur')"
                    class="flex items-center justify-center w-9 h-9 bg-blue-500 text-white rounded-full shadow-sm hover:bg-blue-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200 flex-shrink-0">
                    <i class="fas fa-edit"></i>
                  </button>
                </span>

                <span *ngIf="editingSociete === societe && editingField === 'utilisateur'"
                  class="flex items-center gap-2">
                  <form [formGroup]="editForm" (ngSubmit)="saveEdit(societe)" class="flex items-center gap-2">
                    <input formControlName="newValue"
                      class="border p-2 rounded flex-grow focus:ring-2 focus:ring-blue-300" />

                    <button type="submit"
                      class="flex items-center justify-center w-9 h-9 bg-green-500 text-white rounded-full shadow-sm hover:bg-green-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-check"></i>
                    </button>

                    <button type="button" (click)="cancelEdit()"
                      class="flex items-center justify-center w-9 h-9 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200 flex-shrink-0">
                      <i class="fas fa-times"></i>
                    </button>
                  </form>
                </span>

              </div>
            </td>
            <!-- Actions -->
            <td class="py-2 px-4 border-b text-center">
              <button (click)="deleteSociete(societe.idProjet)"
                class="flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-200">
                <i class="fas fa-trash"></i>
                <span>Supprimer</span>
              </button>
            </td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>